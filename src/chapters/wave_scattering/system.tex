The formulation employed in this chapter was initially developed and published in Ref.~\cite{PhysRevD.96.104040}. Although the primary focus of that publication differs from the subject matter of this chapter, Appendix A of the paper contains the 3+1 decomposed Klein-Gordon equation for a massive scalar field, as presented in equations A3c and A3d. For the sake of completeness, these equations are
%
\begin{align}
  \partial_t \Phi =   & -2 \alpha K_\phi + \mathcal{L}_\beta \Phi \label{eq:wave_scattering_a3c}                                                                                                                                                     \\
  \partial_t K_\Phi = & \alpha \left( K K_\Phi - \frac{1}{2} \gamma^{ij} D_i \partial_j \Phi + \frac{1}{2} \mu^2 \Phi \right) - \frac{1}{2} \gamma^{ij} \partial_i \alpha \partial_j \Phi + \mathcal{L}_\beta K_\Phi, \label{eq:wave_scattering_a3d}
\end{align}
%
where $\Phi$ is the scalar field being evolved, $K_\Phi$ its ``canonical momentum'', given by
%
\begin{equation}
  K_\Phi = -\frac{1}{2\alpha} \left( \partial_t - \mathcal{L}_\beta \right)\Phi,
  \label{eq:wave_scattering_a2}
\end{equation}
%
$\alpha$ is the spacetime lapse, $\beta^i$ its shift vector, $\gamma^{ij}$ its induced 3-metric, $K$ the trace of its extrinsic curvature tensor, $D_i$ the covariant derivative associated with $\gamma^{ij}$, $\mu$ the spacetime mass parameter and $\mathcal{L}_\beta$ is the Lie derivative along the shift vector $\beta^i$, given explicitly by
%
\begin{equation}
  \mathcal{L}_\beta\Phi = \beta^i \partial_i \Phi.
  \label{eq:wave_scattering_lie_derivative}
\end{equation}

To expand each component of these equations, we utilized the mathematical software package \texttt{Wolfram Mathematica}. The resulting expansion was subsequently implemented into the \texttt{Thorn} by automatically generating corresponding \texttt{C} code from within \texttt{Mathematica}. The code used in this process can be found in \texttt{Notebooks/equations.nb} of the \texttt{Thorn}'s repository.